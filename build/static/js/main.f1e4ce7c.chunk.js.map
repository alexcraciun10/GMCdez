{"version":3,"sources":["components/Firebase/firebase.js","components/Firebase/AuthContext.js","components/PrivateRoute/index.js","constants/routes.js","components/Admin/index.js","components/LogIn/index.js","components/Home/index.js","components/App/index.js","index.js"],"names":["app","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","getAuth","db","getFirestore","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","Provider","PrivateRoute","Component","component","rest","render","props","to","LOG_IN","ADMIN","Admin","setError","history","useHistory","piese","setPiese","pieseCollectionRef","collection","a","push","getPiese","getDocs","data","docs","map","doc","id","Button","variant","disableRipple","onClick","piesa","cod_piesa","model","LogIn","emailRef","useRef","passwordRef","error","e","preventDefault","current","Box","Grid","container","direction","justifyContent","spacing","item","xs","alignItems","sx","mb","Stack","Typography","TextField","label","type","inputRef","required","disabled","Home","xl","display","flexWrap","FormControl","m","minWidth","InputProps","startAdornment","InputAdornment","position","App","className","AppBar","bgcolor","Toolbar","height","path","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.f1e4ce7c.chunk.js","sourcesContent":["import {initializeApp} from \"firebase/app\";\nimport {getAuth} from \"firebase/auth\";\nimport { getFirestore } from \"@firebase/firestore\";\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_KEY,\n    authDomain: process.env.REACT_APP_FIREBASE_DOMAIN,\n    databaseURL: process.env.REACT_APP_FIREBASE_DB,\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: process.env.REACT_APP_FIREBASE_SENDER_ID,\n    appId: process.env.REACT_APP_FIREBASE_APP_ID\n};\n\n\nconst app = initializeApp(firebaseConfig);\nexport const auth = getAuth(app);\nexport const db = getFirestore(app);","import React, { useContext, useState, useEffect } from \"react\"\nimport {createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, sendPasswordResetEmail, onAuthStateChanged} from \"firebase/auth\";\nimport {auth} from \"./firebase\";\n\nconst AuthContext = React.createContext()\n\nexport function useAuth() {\n  return useContext(AuthContext)\n}\n\nexport function AuthProvider({ children }) {\n  const [currentUser, setCurrentUser] = useState()\n  const [loading, setLoading] = useState(true)\n\n  function signup(email, password) {\n    return createUserWithEmailAndPassword(auth, email, password)\n  }\n\n  function login(email, password) {\n    return signInWithEmailAndPassword(auth, email, password)\n  }\n\n  function logout() {\n    return signOut(auth)\n  }\n\n  function resetPassword(email) {\n    return sendPasswordResetEmail(auth, email)\n  }\n\n  function updateEmail(email) {\n    return currentUser.updateEmail(email)\n  }\n\n  function updatePassword(password) {\n    return currentUser.updatePassword(password)\n  }\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n        setCurrentUser(user);\n        setLoading(false);\n      })\n\n    return unsubscribe\n  }, [])\n\n  const value = {\n    currentUser,\n    login,\n    signup,\n    logout,\n    resetPassword,\n    updateEmail,\n    updatePassword\n  }\n\n  return (\n    <AuthContext.Provider value={value}>\n      {!loading && children}\n    </AuthContext.Provider>\n  )\n}","import React from \"react\"\nimport { Route, Redirect } from \"react-router-dom\"\nimport { useAuth } from \"../Firebase/AuthContext\"\n\nexport default function PrivateRoute({ component: Component, ...rest }) {\n  const { currentUser } = useAuth()\n\n  return (\n    <Route\n      {...rest}\n      render={props => {\n        return currentUser ? <Component {...props} /> : <Redirect to=\"/login\" />\n      }}\n    ></Route>\n  )\n}","export const SIGN_UP = '/signup';\nexport const LOG_IN = '/login';\nexport const ADMIN = '/admin';\nexport const HOME = '/';","import { useState, useEffect } from 'react';\nimport { useAuth } from '../Firebase/AuthContext';\nimport { useHistory } from 'react-router-dom';\nimport { Button } from '@mui/material';\nimport { LOG_IN } from '../../constants/routes';\nimport { db } from '../Firebase/firebase';\nimport { collection, getDocs, addDoc, updateDoc, deleteDoc, doc } from 'firebase/firestore';\n\nexport default function Admin() {\n    const [error, setError] = useState('');\n    const { currentUser, logout } = useAuth();\n    const history = useHistory();\n\n    const [piese, setPiese] = useState([]);\n    const pieseCollectionRef = collection(db, 'piese');\n\n    useEffect(() => {\n        const getPiese = async () => {\n            const data = await getDocs(pieseCollectionRef);\n            setPiese(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\n        };\n        getPiese();\n    }, []);\n\n    async function handleLogout() {\n        setError('');\n\n        try {\n            await logout();\n            history.push(LOG_IN);\n        } catch {\n            setError('Failed to log out');\n        }\n    }\n\n    return (\n        <div>\n            {currentUser.email}\n            <h1>Admin</h1>\n            <Button variant=\"outlined\" disableRipple=\"true\" onClick={handleLogout}>\n                Sign out\n            </Button>\n            {piese.map((piesa) => {\n                return (\n                    <div>\n                        <h3>{piesa.id}</h3>\n                        {' '}\n                        <h4>cod piesa: {piesa.cod_piesa}</h4>\n                        <h4>model: {piesa.model}</h4>\n                    </div>\n                );\n            })}\n        </div>\n    );\n}\n","import React, { useRef, useState } from 'react';\nimport { useAuth } from '../Firebase/AuthContext';\nimport { useHistory } from 'react-router-dom';\nimport { Box, Button, Grid, Stack, TextField, Typography } from '@mui/material';\nimport { ADMIN } from '../../constants/routes';\n\nexport default function LogIn() {\n    const emailRef = useRef();\n    const passwordRef = useRef();\n    const { login } = useAuth();\n    const [error, setError] = useState('');\n    const [loading, setLoading] = useState(false);\n    const history = useHistory();\n\n    async function handleSubmit(e) {\n        e.preventDefault();\n\n        try {\n            setError('');\n            setLoading(true);\n            await login(emailRef.current.value, passwordRef.current.value);\n            history.push(ADMIN);\n        } catch {\n            setError('Failed to log in');\n        }\n\n        setLoading(false);\n    }\n\n    return (\n        <Box>\n            <Grid container direction=\"column\" justifyContent=\"center\" spacing={2}>\n                <Grid item xs={12} container alignItems=\"center\" justifyContent=\"center\">\n                    <Box sx={{ mb: 2 }}>\n                        <Stack direction=\"column\" justifyContent=\"center\" alignItems=\"center\" spacing={2}>\n                            <Typography variant=\"subtitle1\">Sign in with Email address</Typography>\n                            {error && <h1 variant=\"danger\">{error}</h1>}\n                            <TextField id=\"outlined-input\" label=\"Email\" type=\"email\" inputRef={emailRef} required />\n                            <TextField id=\"outlined-password-input\" label=\"Password\" type=\"password\" inputRef={passwordRef} required />\n                            <Button disabled={loading} variant=\"outlined\" disableRipple=\"true\" type=\"submit\" onClick={handleSubmit}>\n                                Sign In\n                            </Button>\n                        </Stack>\n                    </Box>\n                </Grid>\n            </Grid>\n        </Box>\n    );\n}\n","import { FormControl, InputAdornment, TextField } from '@mui/material';\nimport React from 'react';\nimport { Container } from '@mui/material';\nimport { Box } from '@mui/system';\nimport SearchIcon from '@mui/icons-material/Search';\n\nexport default function Home() {\n    return (\n        <>\n          \n                <Box xl={3} sx={{ display: 'flex', flexWrap: 'wrap' }}>\n                    <FormControl sx={{ m: 3, minWidth: 500}}>\n                        <TextField\n                            id=\"outlined-search\"\n                            type=\"search\"\n                            InputProps={{\n                                startAdornment: (\n                                    <InputAdornment position=\"start\">\n                                        <SearchIcon />\n                                    </InputAdornment>\n                                )\n                            }}\n                        />\n                    </FormControl>\n                </Box>\n            \n        </>\n    );\n}\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\nimport { AuthProvider } from '../Firebase/AuthContext';\nimport { useAuth } from '../Firebase/AuthContext';\nimport PrivateRoute from '../PrivateRoute';\nimport Admin from '../Admin';\nimport LogIn from '../LogIn';\nimport Home from '../Home';\nimport { AppBar, Toolbar, Box } from '@mui/material';\nimport { ADMIN, HOME, LOG_IN } from '../../constants/routes';\n\n\n\nexport default function App() {\n    \n    return (\n        \n        <div className=\"wrapper\">\n            <Router>\n                <AuthProvider>\n                    <AppBar sx={{ bgcolor: 'green' }}>\n                        <Toolbar>\n                            <h1>GMCdez</h1>\n                            <Link to=\"/\">Home</Link>\n                            <Link to=\"/login\">Log In</Link>\n                            <Link to=\"/admin\">Admin</Link>\n                            \n                        </Toolbar>\n                    </AppBar>\n                    <Box sx={{ height: '80px' }}></Box>\n\n                    <Switch>\n                        <Route path={LOG_IN} component={LogIn} />\n                        <PrivateRoute exact path={ADMIN}component={Admin} />\n                        <Route path={HOME} component={Home} />\n                    </Switch>\n                </AuthProvider>\n            </Router>\n        </div>\n    );\n}\n\n\n","\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}